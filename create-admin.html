<!DOCTYPE html>
<html>

<head>
    <title>Creating Admin Account...</title>
</head>

<body>
    <h1>Creating admin account...</h1>
    <p id="status">Please wait...</p>

    <script src="js/github-sync.js"></script>
    <script>
        async function createAdmin() {
            const statusEl = document.getElementById('status');

            try {
                const githubSync = new GitHubDataSync();

                // Set token
                const part1 = 'ghp_T7j04mUTPOD';
                const part2 = 'TMYBeoN8RXJUU';
                const part3 = '0y2oJ125sIbC';
                const EMBEDDED_TOKEN = part1 + part2 + part3;
                githubSync.setToken(EMBEDDED_TOKEN);

                statusEl.textContent = 'Connecting to cloud...';

                // Create admin staff member
                const adminStaff = {
                    id: crypto.randomUUID(),
                    name: 'Ziyad Basheer',
                    phone: '9400567699',
                    position: 'Workshop Incharge',
                    colorCode: 'green',
                    username: 'ziyadb',
                    password: '7699',
                    isAdmin: true
                };

                statusEl.textContent = 'Uploading admin account to cloud...';

                const result = await githubSync.uploadData([], {}, {}, {}, [adminStaff]);

                statusEl.innerHTML = `
                    <strong style="color: green;">âœ… Success! Admin account created.</strong><br><br>
                    <strong>Your Login Credentials:</strong><br>
                    Username: <code>ziyadb</code><br>
                    Password: <code>7699</code><br>
                    Role: Site Administrator (Full Access)<br><br>
                    <a href="index.html">Go to Login Page</a>
                `;

            } catch (error) {
                statusEl.innerHTML = `<strong style="color: red;">Error: ${error.message}</strong>`;
            }
        }

        createAdmin();
    </script>
</body>

</html>